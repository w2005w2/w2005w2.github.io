<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>从零开始：使用 GitHub + Hexo + Fluid 搭建个性化博客（附魔改与使用教程）</title>
    <link href="/2025/04/05/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%EF%BC%9A%E4%BD%BF%E7%94%A8%20GitHub%20+%20Hexo%20+%20Fluid%20%E6%90%AD%E5%BB%BA%E4%B8%AA%E6%80%A7%E5%8C%96%E5%8D%9A%E5%AE%A2%EF%BC%88%E9%99%84%E9%AD%94%E6%94%B9%E4%B8%8E%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B%EF%BC%89/"/>
    <url>/2025/04/05/%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%EF%BC%9A%E4%BD%BF%E7%94%A8%20GitHub%20+%20Hexo%20+%20Fluid%20%E6%90%AD%E5%BB%BA%E4%B8%AA%E6%80%A7%E5%8C%96%E5%8D%9A%E5%AE%A2%EF%BC%88%E9%99%84%E9%AD%94%E6%94%B9%E4%B8%8E%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B%EF%BC%89/</url>
    
    <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>目前网上关于这类方法的技术博客数量众多且内容繁杂。因此，这篇博客主要是对这些资源进行系统化的整理，并记录我在搭建过程中遇到的一些问题和解决方法。建议大家结合我推荐的博客一起阅读，同时参考本文中提到一些bug对应的解决办法。由于文章篇幅较长，您可以根据目录选择性查看所需内容。</p><h1 id="搭建博客"><a href="#搭建博客" class="headerlink" title="搭建博客"></a>搭建博客</h1><p>推荐文章：<br><a href="https://blog.csdn.net/yaorongke/article/details/119089190">GitHub Pages + Hexo搭建个人博客网站，史上最全教程_hexo博客-CSDN博客</a></p><h2 id="安装主题时git报错"><a href="#安装主题时git报错" class="headerlink" title="安装主题时git报错"></a>安装主题时git报错</h2><p>取消代理设置</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs stylus">git config <span class="hljs-attr">--global</span> <span class="hljs-attr">--unset</span> http<span class="hljs-selector-class">.proxy</span> <br>git config <span class="hljs-attr">--global</span> <span class="hljs-attr">--unset</span> https.proxy<br></code></pre></td></tr></table></figure><h2 id="hexo图片不显示"><a href="#hexo图片不显示" class="headerlink" title="hexo图片不显示"></a>hexo图片不显示</h2><p>解决办法：使用图床<br><a href="https://blog.csdn.net/m0_49448331/article/details/136899591">Obsidian+PicGo+Gitee搭建免费图床_obsidian 图床-CSDN博客</a><br>同时，也推荐使用腾讯云、阿里云的对象存储服务存储图片，然后在文章加入图片的链接。</p><h3 id="使用图床之后依然不显示图片"><a href="#使用图床之后依然不显示图片" class="headerlink" title="使用图床之后依然不显示图片"></a>使用图床之后依然不显示图片</h3><p>如果使用图床之后依然不显示图片，不要慌，由于图床的防盗链机制，只允许本网站显示图片，外部网站加载图片就会报错。<br>解决办法：<br>以fluid主题为例，根据路径<code>themes\fluid\layout\_partial\head.ejs</code>找到<code>head.ejs</code>文件，在文件中添加</p><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs routeros">&lt;meta <span class="hljs-attribute">name</span>=<span class="hljs-string">&quot;referrer&quot;</span> <span class="hljs-attribute">content</span>=<span class="hljs-string">&quot;no-referrer&quot;</span>&gt;<br></code></pre></td></tr></table></figure><p><img src="https://gitee.com/techstream/mypicture/raw/master/img/20250405204632480.png" alt="image.png"></p><h2 id="我目前的工作流"><a href="#我目前的工作流" class="headerlink" title="我目前的工作流"></a>我目前的工作流</h2><ul><li><p>在obsdian写好md文件，然后把md文件粘贴到hexo的-post文件夹里在文章最开头额外加入以下语句作为标题：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">黑马点评环境搭建</span><br><span class="hljs-meta">---</span><br></code></pre></td></tr></table></figure></li><li><p>输入以下指令进行本地预览：</p><figure class="highlight sas"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sas">hexo clean <span class="hljs-variable">&amp;&amp;</span> hexo g <span class="hljs-variable">&amp;&amp;</span> hexo s<br></code></pre></td></tr></table></figure></li></ul><p><code>hexo clean</code>用于清除缓存，<code>hexo g</code>用于重新生成，<code>hexo s</code>用于启动本地测试服务器</p><ul><li>然后部署到网站<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli">hexo <span class="hljs-keyword">deploy</span>  <span class="hljs-comment"># 或简写 hexo d</span><br></code></pre></td></tr></table></figure></li></ul><p>当然如果选择在hexo目录下直接写文章也可以使用如下命令，简化了第一步</p><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs livecodeserver">hexo <span class="hljs-built_in">new</span> <span class="hljs-built_in">post</span> 测试文章<br></code></pre></td></tr></table></figure><h2 id="魔改博客"><a href="#魔改博客" class="headerlink" title="魔改博客"></a>魔改博客</h2><h2 id="阅读量统计出错"><a href="#阅读量统计出错" class="headerlink" title="阅读量统计出错"></a>阅读量统计出错</h2><p>如果参考我刚刚推荐的博客，添加阅读量统计出错，可尝试一下两个办法：<br>方法一（推荐）：<br>使用leancloud国际版，<a href="https://www.leancloud.app/">LeanCloud</a><br>方法二：<br>将leancloud改回busuanzi</p><h2 id="背景图随机出现"><a href="#背景图随机出现" class="headerlink" title="背景图随机出现"></a>背景图随机出现</h2><p><a href="https://zhul.in/2024/09/25/random-banner-backgroud-image-implement-for-hexo-fluid-with-javascript/">基于 JavaScript 的 Hexo Fluid 主题 banner 随机背景图实现 - 竹林里有冰的博客 (zhul.in)</a><br>另外推荐几个博客背景图的配图网站：<br><a href="https://www.pexels.com/zh-cn/">pexels</a><br>优势：搜索功能强大，匹配度高。可以选择尺寸下载，图片质量高，原图分辨率高。访问速度快。<br>劣势：图片种类没有Pixabay多<br><a href="https://pixabay.com/">Pixabay</a><br>优势：图片种类多，扁平风，摄影都有。支持中文(虽然是机翻)访问快。可以选择尺寸下载。 <br>劣势：搜索功能鸡肋，图片质量一般，需要有一定筛选能力！<br>（以上评价摘自知乎）<br><a href="https://www.pixiv.net/">pixiv</a></p><h2 id="背景固定（背景贯穿整个博客）"><a href="#背景固定（背景贯穿整个博客）" class="headerlink" title="背景固定（背景贯穿整个博客）"></a>背景固定（背景贯穿整个博客）</h2><p><a href="https://gishai.top/blog/posts/1563abd8.html">基于hexo的fluid主题的魔改汇总 - GISHAI</a><br>一定要注意文件的路径问题：</p><ul><li>确保 <code>injector.js</code> 文件存放在<code>themes/fluid/scripts</code>目录中（以fluid为例，该主题默认没有scripts文件夹，需手动创建）</li></ul><ul><li>确保 <code>backgroundize.js</code> 文件存放在 <code>themes/fluid/source/js/</code> 目录中。</li><li>确保 <code>backgroundize.css</code> 文件存放在 <code>themes/fluid/source/css/</code> 目录中。</li></ul><h2 id="博客底部添加运行时间"><a href="#博客底部添加运行时间" class="headerlink" title="博客底部添加运行时间"></a>博客底部添加运行时间</h2><p><a href="https://blog.kevinchu.top/2023/07/17/hexo-theme-fluid-modify/#1-%E6%B7%BB%E5%8A%A0%E9%BC%A0%E6%A0%87%E7%A7%BB%E5%8A%A8%E5%B0%8F%E6%98%9F%E6%98%9F%E7%89%B9%E6%95%88">Hexo博客Fluid主题魔改记录 - KEVIN’S BLOG (kevinchu.top)</a><br>注意在文件中修改为自己博客创建的时间</p><h2 id="fluid主题自定义标签页小图标"><a href="#fluid主题自定义标签页小图标" class="headerlink" title="fluid主题自定义标签页小图标"></a>fluid主题自定义标签页小图标</h2><p><a href="https://www.bitbug.net/">在线制作ico图标 | 在线ico图标转换工具 方便制作favicon.ico - 比特虫 - Bitbug.net</a><br>推荐使用该网站制作标签页小图标<br>修改主题的_config.yml文件，在语句后添加对应的路径</p><figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-comment"># 用于浏览器标签的图标</span><br><span class="hljs-comment"># Icon for browser tab</span><br><span class="hljs-params">favicon:</span> <span class="hljs-symbol">/images/favicon.ico</span> <br><span class="hljs-comment"># 用于苹果设备的图标</span><br><span class="hljs-comment"># Icon for Apple touch</span><br><span class="hljs-params">apple_touch_icon:</span> <span class="hljs-operator">/</span>images<span class="hljs-operator">/</span>favicon.ico<br></code></pre></td></tr></table></figure><p>以如上命令为例，标签页小图标要存放在<code>themes\fluid\source\images</code>目录下，且应命名为favicon.ico</p><h2 id="对文章进行分类-添加标签"><a href="#对文章进行分类-添加标签" class="headerlink" title="对文章进行分类&#x2F;添加标签"></a>对文章进行分类&#x2F;添加标签</h2><ul><li>修改主题的_config.yml文件中的menu<figure class="highlight nix"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs nix"><span class="hljs-params">menu:</span>  <br><span class="hljs-operator">-</span> &#123; <span class="hljs-params">key:</span> <span class="hljs-string">&quot;home&quot;</span>, <span class="hljs-params">link:</span> <span class="hljs-string">&quot;/&quot;</span>, <span class="hljs-params">icon:</span> <span class="hljs-string">&quot;iconfont icon-home-fill&quot;</span> &#125;  <br><span class="hljs-operator">-</span> &#123; <span class="hljs-params">key:</span> <span class="hljs-string">&quot;archive&quot;</span>, <span class="hljs-params">link:</span> <span class="hljs-string">&quot;/archives/&quot;</span>, <span class="hljs-params">icon:</span> <span class="hljs-string">&quot;iconfont icon-archive-fill&quot;</span> &#125;  <br><span class="hljs-operator">-</span> &#123; <span class="hljs-params">key:</span> <span class="hljs-string">&quot;category&quot;</span>, <span class="hljs-params">link:</span> <span class="hljs-string">&quot;/categories/&quot;</span>, <span class="hljs-params">icon:</span> <span class="hljs-string">&quot;iconfont icon-category-fill&quot;</span> &#125;  <br><span class="hljs-operator">-</span> &#123; <span class="hljs-params">key:</span> <span class="hljs-string">&quot;tag&quot;</span>, <span class="hljs-params">link:</span> <span class="hljs-string">&quot;/tags/&quot;</span>, <span class="hljs-params">icon:</span> <span class="hljs-string">&quot;iconfont icon-tags-fill&quot;</span> &#125;  <br><span class="hljs-operator">-</span> &#123; <span class="hljs-params">key:</span> <span class="hljs-string">&quot;about&quot;</span>, <span class="hljs-params">link:</span> <span class="hljs-string">&quot;/about/&quot;</span>, <span class="hljs-params">icon:</span> <span class="hljs-string">&quot;iconfont icon-user-fill&quot;</span> &#125;  <br><span class="hljs-operator">-</span> &#123; <span class="hljs-params">key:</span> <span class="hljs-string">&quot;links&quot;</span>, <span class="hljs-params">link:</span> <span class="hljs-string">&quot;/links/&quot;</span>, <span class="hljs-params">icon:</span> <span class="hljs-string">&quot;iconfont icon-link-fill&quot;</span> &#125;<br></code></pre></td></tr></table></figure></li><li>在文章开头加入如下命令：<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-meta">---</span><br><span class="hljs-attr">title:</span> <span class="hljs-string">一、SQL</span><br><span class="hljs-attr">date:</span> <span class="hljs-number">2025-04-04 </span><span class="hljs-number">21</span><span class="hljs-string">:40</span><br><span class="hljs-attr">tags:</span><br><span class="hljs-bullet">-</span> <span class="hljs-string">MySQL</span><br><span class="hljs-attr">categories:</span><br><span class="hljs-bullet">-</span> [<span class="hljs-string">MySQL</span>]<br><span class="hljs-meta">---</span><br></code></pre></td></tr></table></figure></li></ul><h2 id="更多魔改文章推荐"><a href="#更多魔改文章推荐" class="headerlink" title="更多魔改文章推荐"></a>更多魔改文章推荐</h2><p><a href="https://asteri5m.icu/archives/0c8538e7-5b5f-4897-8e8b-0cff84320473">Hexo&amp;Fluid魔改笔记 - Asteri5m的小破站</a><br><a href="https://hexo.fluid-dev.com/docs/start/">开始使用 | Hexo Fluid 用户手册 (fluid-dev.com)</a></p>]]></content>
    
    
    
    <tags>
      
      <tag>hexo</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>五、事务</title>
    <link href="/2025/04/04/%E4%BA%94%E3%80%81%E4%BA%8B%E5%8A%A1/"/>
    <url>/2025/04/04/%E4%BA%94%E3%80%81%E4%BA%8B%E5%8A%A1/</url>
    
    <content type="html"><![CDATA[<h1 id="事务简介"><a href="#事务简介" class="headerlink" title="事务简介"></a>事务简介</h1><p>事务是一组操作的集合，不可分割，这些操作<strong>要么同时成功，要么同时失败</strong>。<br><strong>流程：</strong><br><img src="https://gitee.com/techstream/mypicture/raw/master/img/20250404151911093.png" alt="Pasted image 20250311144243"></p><h1 id="事务操作"><a href="#事务操作" class="headerlink" title="事务操作"></a>事务操作</h1><h2 id="方式一"><a href="#方式一" class="headerlink" title="方式一"></a>方式一</h2><ul><li>查看&#x2F;设置事务提交方式<br>select @@autocommit;<br>set @@autocommit&#x3D;0;</li><li>提交事务<br>commit;</li><li>回滚事务<br>rollback；</li></ul><h2 id="方式二"><a href="#方式二" class="headerlink" title="方式二"></a>方式二</h2><ul><li>开启事务<br>start transaction或 begin;</li><li>提交事务<br>commit;</li><li>回滚事务<br>rollback；</li></ul><h1 id="事务四大特性（ACID）"><a href="#事务四大特性（ACID）" class="headerlink" title="事务四大特性（ACID）"></a>事务四大特性（ACID）</h1><ul><li>原子性：</li><li>一致性：</li><li>隔离性：</li><li>持久性：</li></ul><h1 id="并发事务问题"><a href="#并发事务问题" class="headerlink" title="并发事务问题"></a>并发事务问题</h1><table><thead><tr><th>问题</th><th>描述</th></tr></thead><tbody><tr><td>脏读</td><td>一个事务读到另外一个事务还没有提交的数据</td></tr><tr><td>不可重复读</td><td>一个事务先后读取同一条记录，但两次读取的数据不同，称之为不可重复读</td></tr><tr><td>幻读</td><td>一个事务按照条件查询数据时，没有对应的数据行，但是插入数据时，又发现这行数据已经存在，好像出现了“幻影”</td></tr></tbody></table><h1 id="事务隔离级别"><a href="#事务隔离级别" class="headerlink" title="事务隔离级别"></a>事务隔离级别</h1><table><thead><tr><th>隔离级别</th><th>赃读</th><th>不可重复读</th><th>幻读</th></tr></thead><tbody><tr><td>read uncommitted</td><td>√</td><td>√</td><td>√</td></tr><tr><td>read committed</td><td>×</td><td>√</td><td>√</td></tr><tr><td>repeatable read(mysql默认)</td><td>×</td><td>×</td><td>√</td></tr><tr><td>seriblizable</td><td>×</td><td>×</td><td>×</td></tr></tbody></table><ul><li>查看事务隔离级别<br>select @@transaction_isolation</li><li>设置事务隔离级别<br>set [session|global] transaction isolation level [隔离级别]</li></ul>]]></content>
    
    
    <categories>
      
      <category>MySQL</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>四、多表查询</title>
    <link href="/2025/04/04/%E5%9B%9B%E3%80%81%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/"/>
    <url>/2025/04/04/%E5%9B%9B%E3%80%81%E5%A4%9A%E8%A1%A8%E6%9F%A5%E8%AF%A2/</url>
    
    <content type="html"><![CDATA[<h1 id="多表关系"><a href="#多表关系" class="headerlink" title="多表关系"></a>多表关系</h1><ul><li>一对一：适用于单表拆分</li><li>多对一：</li><li>多对多：需建立第三张中间表，中间表至少包含两个外键，分别关联两方主键</li></ul><h1 id="多表查询概述"><a href="#多表查询概述" class="headerlink" title="多表查询概述"></a>多表查询概述</h1><p>在多表查询时，需消除无效的笛卡尔积</p><h1 id="内连接-交集"><a href="#内连接-交集" class="headerlink" title="内连接(交集)"></a>内连接(交集)</h1><p>如果为表起了别名，则不能通过表原来的名字限制字段</p><ul><li>隐式内连接：<br>select 字段列表 from 表1，表2 where 条件；<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select emp.name,dept.name from emp,dept where emp.dept_id=dept.id;<br>select e.name,d.name from emp e,dept d where e.dept_id=d.id;<br></code></pre></td></tr></table></figure></li><li>显示内连接：<br>select 字段列表 from 表1 [ inner ] join 表2 on 连接条件;<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select e.name,d.name from emp e inner join dept d on e.dept_id=d.id;<br></code></pre></td></tr></table></figure></li></ul><h1 id="外连接"><a href="#外连接" class="headerlink" title="外连接"></a>外连接</h1><ul><li><p>左外连接：<br>select 字段列表 from 表1 left [outer] join 表2 on 条件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select e.*,d.name from emp e left outer join dept d on e.dept_id=d.id;<br></code></pre></td></tr></table></figure><p><strong>左右连接相对于join而言，右连接通常可变为左连接</strong></p></li><li><p>右外连接：<br>select 字段列表 from 表1 right [outer] join 表2 on 条件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select d.*,e.* from emp e right outer join dept d on e.dept_id=d.id;<br></code></pre></td></tr></table></figure></li><li><p>左外连接保留左表的<strong>全部数据</strong>，右表只返回匹配的数据，以左表为主；右外连接则与之相反。</p></li></ul><h1 id="自连接"><a href="#自连接" class="headerlink" title="自连接"></a>自连接</h1><p>自连接查询可以是内连接，也可以是外连接（可查询所有内容）<br>select 字段列表 from 表A 别名A join 表A 别名B on 条件；</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mysql">-- 内连接<br>select a.name,b.name from emp a,emp b where a.managerid=b.id;<br>-- 外连接<br>select a.name &#x27;员工&#x27;,b.name &#x27;领导&#x27; from emp a left join emp b on a.managerid=b.id;<br></code></pre></td></tr></table></figure><h1 id="联合查询"><a href="#联合查询" class="headerlink" title="联合查询"></a>联合查询</h1><p>select 字段列表 from 表A …<br>union [all]<br>select 字段列表 from 表B …</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs mysql">-- 仅合并<br>select * from emp where salary &lt;5000<br>union all<br>select * from emp where age&gt;50;<br>-- 合并后去重<br>select * from emp where salary &lt; 5000<br>union<br>select * from emp where age&gt;50;<br></code></pre></td></tr></table></figure><p>对于联合查询的多张表的列数必须保持一致，字段类型也需要保持一致</p><h1 id="子查询（嵌套查询）"><a href="#子查询（嵌套查询）" class="headerlink" title="子查询（嵌套查询）"></a>子查询（嵌套查询）</h1><p>根据子查询结果不同，分为：</p><h2 id="标量子查询（单行单列）"><a href="#标量子查询（单行单列）" class="headerlink" title="标量子查询（单行单列）"></a>标量子查询（单行单列）</h2><h2 id="列子查询"><a href="#列子查询" class="headerlink" title="列子查询"></a>列子查询</h2><table><thead><tr><th>操作符</th><th>描述</th></tr></thead><tbody><tr><td>any</td><td>子查询返回列表中，有任意一个满足即可</td></tr><tr><td>some</td><td>与any等同</td></tr><tr><td>all</td><td>子查询返回列表的所有值都必须满足</td></tr></tbody></table><h2 id="行子查询"><a href="#行子查询" class="headerlink" title="行子查询"></a>行子查询</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs mysql">-- 查询与“张无忌”的薪资及直属领导相同的员工信息；<br><br>-- a.查询“张无忌”的薪资及直属领导<br>select salary,managerid from emp where name=&quot;张无忌&quot;;<br>-- b.查询与“张无忌”的薪资及直属领导相同的员工信息<br>select * from emp where salary=12500 and managerid=1;<br>select * from emp where (salary,managerid)=(12500,1);<br><br>-- 行子查询<br>select * from emp where (salary,managerid)=(select salary,managerid from emp where name=&quot;张无忌&quot;);<br></code></pre></td></tr></table></figure><h2 id="表子查询"><a href="#表子查询" class="headerlink" title="表子查询"></a>表子查询</h2><p>常用关键字<strong>in</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from emp where (job,salary) in (select job,salary from emp where name=&#x27;lu&#x27; or name = &#x27;song&#x27;);<br></code></pre></td></tr></table></figure><p>表子查询的结果通常作为一张临时表</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select e.*,d.* from (select * from emp where entrydate &gt;&#x27;2006-01-01&#x27;) e left join dept d on e.dept_id=d.id;<br></code></pre></td></tr></table></figure>]]></content>
    
    
    <categories>
      
      <category>MySQL</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>三、约束</title>
    <link href="/2025/04/04/%E4%B8%89%E3%80%81%E7%BA%A6%E6%9D%9F/"/>
    <url>/2025/04/04/%E4%B8%89%E3%80%81%E7%BA%A6%E6%9D%9F/</url>
    
    <content type="html"><![CDATA[<h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><table><thead><tr><th>约束</th><th>描述</th><th>关键字</th></tr></thead><tbody><tr><td>主键约束</td><td>主键是一行数据的唯一标识，要求<strong>非空</strong>且<strong>唯一</strong></td><td>primary key</td></tr><tr><td>外键约束</td><td>用来让两张表的数据之间建立连接，保证数据的一致性和完整性</td><td>foreign key</td></tr><tr><td>自动增长</td><td></td><td>auto_increment</td></tr></tbody></table><h1 id="外键约束"><a href="#外键约束" class="headerlink" title="外键约束"></a>外键约束</h1><ul><li><p>添加外键：<br>alter table 表名 add constraint 外键名称 foreign key（外键字段名）references 主表（主表列名）;</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">alter table emp add constraint fk_emp_dept_id foreign key(dept_id) references dept(id);<br></code></pre></td></tr></table></figure></li><li><p>删除外键：<br>alter table 表名 drop foreign key 外键名称;</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">alter table emp drop foreign key fk_emp_dept_id;<br></code></pre></td></tr></table></figure></li></ul><h2 id="删除-更新行为"><a href="#删除-更新行为" class="headerlink" title="删除&#x2F;更新行为"></a>删除&#x2F;更新行为</h2><table><thead><tr><th>行为</th><th>说明</th></tr></thead><tbody><tr><td>no action</td><td>不允许删除&#x2F;更新（与restrict一致）</td></tr><tr><td>restrict</td><td>不允许删除&#x2F;更新（与no action一致）</td></tr><tr><td>cascade</td><td>子表随父表删除&#x2F;更新</td></tr><tr><td>set null</td><td>父表删除时，子表中该值为null（允许取null时）</td></tr></tbody></table><ul><li>alter table 表名 add constraint 外键名称 foreign key（外键字段名）references 主表（主表列名）on update cascade on delete cascade;<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">alter table emp add constraint fk_emp_dept_id foreign key(dept_id) references dept(id) on update cascade on delete cascade;<br></code></pre></td></tr></table></figure></li></ul>]]></content>
    
    
    <categories>
      
      <category>MySQL</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>二、函数</title>
    <link href="/2025/04/04/%E4%BA%8C%E3%80%81%E5%87%BD%E6%95%B0/"/>
    <url>/2025/04/04/%E4%BA%8C%E3%80%81%E5%87%BD%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="字符串函数"><a href="#字符串函数" class="headerlink" title="字符串函数"></a>字符串函数</h1><ul><li>concat 字符串拼接</li><li>substring(字符串，起始位置，子串长度)  <strong>起始位置从1开始计数</strong></li></ul><h1 id="数值函数"><a href="#数值函数" class="headerlink" title="数值函数"></a>数值函数</h1><ul><li>round(x,y)  求参数x四舍五入的值，保留y位小数。若是整数，则y为0。</li><li>ceil 向上取整</li></ul><h1 id="日期函数"><a href="#日期函数" class="headerlink" title="日期函数"></a>日期函数</h1><ul><li>date_add(date,interval expr type) 返回一个日期&#x2F;时间值加上一个时间间隔expr后的时间值<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select date_add(now(),interval 70 day);  <br>select date_add(now(),interval 70 month );  <br>select date_add(now(),interval 70 year);<br></code></pre></td></tr></table></figure></li><li>datediff(date1,date2)  返回起始时间date1和结束时间date2之间的天数</li></ul><h1 id="流程函数"><a href="#流程函数" class="headerlink" title="流程函数"></a>流程函数</h1><ul><li>case when [val1] then [res1]  … else [default] end<br>如果val1为true，返回res1，否则返回default</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select  <br>    name,  <br>    (case workaddress when &#x27;北京&#x27; then &#x27;一线城市&#x27; when &#x27;上海&#x27; then &#x27;一线城市&#x27; else &#x27;二线城市&#x27; end) as &#x27;工作地址&#x27;  <br>from usertable;<br></code></pre></td></tr></table></figure><ul><li>case [expr] when [val] then [res1] … else default end</li></ul>]]></content>
    
    
    <categories>
      
      <category>MySQL</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>一、SQL</title>
    <link href="/2025/04/04/%E4%B8%80%E3%80%81SQL/"/>
    <url>/2025/04/04/%E4%B8%80%E3%80%81SQL/</url>
    
    <content type="html"><![CDATA[<h1 id="DDL"><a href="#DDL" class="headerlink" title="DDL"></a>DDL</h1><p>数据定义语言，用来定义数据库对象（数据库，表，字段）</p><h2 id="数值类型"><a href="#数值类型" class="headerlink" title="数值类型"></a>数值类型</h2><ul><li>DECIMAL:<br>范围依赖于<strong>精度</strong>（M）和<strong>标度</strong>(D)的值<br>123.45 精度5，标度2</li><li>DOUBLE:<br>score double(4,1) （精度，标度）</li></ul><h2 id="字符串类型"><a href="#字符串类型" class="headerlink" title="字符串类型"></a>字符串类型</h2><ul><li>char: char(10) 定长字符串 性能好</li><li>varchar：varchar(10) 变长字符串 性能差（需计算所占用空间）</li><li>blob 二进制数据</li><li>text 文本数据</li></ul><h1 id="DML"><a href="#DML" class="headerlink" title="DML"></a>DML</h1><p>对表中数据进行增删改</p><h2 id="增加数据"><a href="#增加数据" class="headerlink" title="增加数据"></a>增加数据</h2><p>插入数据时，字符串和<strong>日期型数据</strong>应在引号中</p><h1 id="DQL（单表查询）"><a href="#DQL（单表查询）" class="headerlink" title="DQL（单表查询）"></a>DQL（单表查询）</h1><h2 id="基本查询"><a href="#基本查询" class="headerlink" title="基本查询"></a>基本查询</h2><ul><li>查询多个字段：<br>select 字段1，字段2，… from 表名;<br>select * from 表名;(尽量不要使用)</li></ul><h2 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h2><p>&lt;&gt;或!&#x3D;  不等于</p><p>查询空信息</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from usertable where idcard is not null;<br><br>select * from usertable where idcard is null;<br></code></pre></td></tr></table></figure><p>等于用一个等号表示</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from usertable where age=88;<br></code></pre></td></tr></table></figure><p>闭区间</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select * from usertable where age between 15 and 20;<br></code></pre></td></tr></table></figure><p>in可以简化多个或</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select *from usertable where age=18 or age=20 or age=40;<br>select *from usertable where age in(18,20,40);<br></code></pre></td></tr></table></figure><p>like 模糊匹配（_匹配单个字符，%匹配任意个字符）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs mysql">select *from usertable where name like &#x27;__&#x27;;(名字是两位的)<br>select *from usertable where idcard like &#x27;%x&#x27;;（最后一位是x）<br></code></pre></td></tr></table></figure><h2 id="聚合查询"><a href="#聚合查询" class="headerlink" title="聚合查询"></a>聚合查询</h2><p><strong>null值不参与聚合函数运算</strong></p><h2 id="分组查询"><a href="#分组查询" class="headerlink" title="分组查询"></a>分组查询</h2><ul><li>分组前过滤用where，分组后过滤用having</li></ul><h2 id="排序查询"><a href="#排序查询" class="headerlink" title="排序查询"></a>排序查询</h2><ul><li>升序关键字：asc（默认）</li><li>降序关键字：desc</li></ul><h2 id="分页查询"><a href="#分页查询" class="headerlink" title="分页查询"></a>分页查询</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs mysql">#第一页查询<br>select * from usertable limit 0,10;  <br>#第一页查询起始索引可省略  <br>select * from usertable limit 10;  <br>  <br>select * from usertable limit 10,10;<br></code></pre></td></tr></table></figure><ul><li>分页查询是数据库的<strong>方言</strong>,不同数据库有不同的实现</li></ul><h2 id="执行顺序与编写顺序"><a href="#执行顺序与编写顺序" class="headerlink" title="执行顺序与编写顺序"></a>执行顺序与编写顺序</h2><p><img src="https://gitee.com/techstream/mypicture/raw/master/img/20250404151922879.png" alt="Pasted image 20250306141856"></p><h1 id="DCL"><a href="#DCL" class="headerlink" title="DCL"></a>DCL</h1><ul><li>管理数据库用户，控制数据库的访问权限</li></ul><h2 id="管理用户"><a href="#管理用户" class="headerlink" title="管理用户"></a>管理用户</h2><ol><li>查询用户</li><li>创建用户</li><li>修改用户密码</li><li>删除用户</li></ol><h2 id="权限控制"><a href="#权限控制" class="headerlink" title="权限控制"></a>权限控制</h2><ol><li>查询权限</li><li>授予权限</li><li>撤销权限</li></ol>]]></content>
    
    
    <categories>
      
      <category>MySQL</category>
      
    </categories>
    
    
    <tags>
      
      <tag>MySQL</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>黑马点评环境搭建</title>
    <link href="/2025/04/04/%E9%BB%91%E9%A9%AC%E7%82%B9%E8%AF%84%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
    <url>/2025/04/04/%E9%BB%91%E9%A9%AC%E7%82%B9%E8%AF%84%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/</url>
    
    <content type="html"><![CDATA[<h1 id="导入数据库"><a href="#导入数据库" class="headerlink" title="导入数据库"></a>导入数据库</h1><p>前提条件：安装MySQL和Navicat</p><h2 id="1-创建数据库hmdp"><a href="#1-创建数据库hmdp" class="headerlink" title="1. 创建数据库hmdp"></a>1. 创建数据库hmdp</h2><p><img src="https://gitee.com/techstream/mypicture/raw/master/img/20250404151643646.png" alt="1"><br><img src="https://gitee.com/techstream/mypicture/raw/master/img/20250404151643647.png" alt="Pasted image 20250403201941"></p><h2 id="2-导入SQL文件"><a href="#2-导入SQL文件" class="headerlink" title="2.导入SQL文件"></a>2.导入SQL文件</h2><p><img src="https://gitee.com/techstream/mypicture/raw/master/img/20250404151643648.png" alt="Pasted image 20250403202033"><br>tips：先双击hmdp数据库再右键点击“运行SQL文件”（否则该选项是灰色的）<br><img src="https://gitee.com/techstream/mypicture/raw/master/img/20250404151643649.png" alt="Pasted image 20250403202216"><br>找到对应的sql文件地址</p><h1 id="导入项目文件"><a href="#导入项目文件" class="headerlink" title="导入项目文件"></a>导入项目文件</h1><h2 id="1-修改application-yaml文件："><a href="#1-修改application-yaml文件：" class="headerlink" title="1.修改application.yaml文件："></a>1.修改<code>application.yaml</code>文件：</h2><p><img src="https://gitee.com/techstream/mypicture/raw/master/img/20250404151643650.png" alt="Pasted image 20250403202511"><br>以上三个部分需要根据实际情况进行修改</p><h1 id="启动后端项目"><a href="#启动后端项目" class="headerlink" title="启动后端项目"></a>启动后端项目</h1><p><img src="https://gitee.com/techstream/mypicture/raw/master/img/20250404151643651.png" alt="Pasted image 20250403203658"><br>选择springboot</p><h1 id="遇到的bug（如果运行成功可跳过）"><a href="#遇到的bug（如果运行成功可跳过）" class="headerlink" title="遇到的bug（如果运行成功可跳过）"></a>遇到的bug（如果运行成功可跳过）</h1><p>java: java.lang.nosuchfielderror: class com.sun.tools.javac.tree.jctree$jcimport does not have member field ‘com.sun.tools.javac.tree.jctree qualid’</p><p><img src="https://gitee.com/techstream/mypicture/raw/master/img/20250404151643652.png" alt="Pasted image 20250403212450"><br>原因：lobok与java版本不兼容<br>解决方案：<a href="https://blog.csdn.net/weixin_36829761/article/details/136287081">【已解决】java: java.lang.NoSuchFieldError: Class com.sun.tools.javac.tree.JCTree$JCImport does not have-CSDN博客</a><br>如果修改后出现红线，刷新maven即可（重新加载所有maven项目）<br><img src="https://gitee.com/techstream/mypicture/raw/master/img/20250404151643653.png" alt="Pasted image 20250403212937"></p><hr><p>Loading class <code>com.mysql.jdbc.Driver&#39;. This is deprecated. The new driver class is </code>com.mysql.cj.jdbc.Driver’. The driver is automatically registered via the SPI and manual loading of the driver class is generally unnecessary.<br>原因：MySQL JDBC 驱动类版本太低<br>解决办法：<br>1.更新驱动类名称<br>在<code>application.yaml</code>文件中，将<code>driver-class-name: com.mysql.jdbc.Driver</code>修改为<br><code>com.mysql.cj.jdbc.Driver</code>，<br>2.更新数据库连接url<br>在<code>application.yaml</code>文件中，将<code>url: jdbc:mysql://127.0.0.1:3306/hmdp?useSSL=false&amp;serverTimezone=UTC</code> 改为<code>url:jdbc:mysql://localhost:3306/hmdp?useUnicode=true&amp;serverTimezone=Asia/Shanghai&amp;characterEncoding=utf8&amp;autoReconnect=true&amp;useSSL=false&amp;allowMultiQueries=true</code><br>3.更新Maven依赖<br>在 <code>pom.xml</code> 文件中补充mysql版本<br><img src="https://gitee.com/techstream/mypicture/raw/master/img/20250404151643654.png" alt="Pasted image 20250404123855"><br>注意格式不要书写错误</p><p>在Maven中重新加载依赖，然后运行，浏览器访问<code>http://localhost:8081/shop-type/list</code>,如果看到数据则证明后端配置成功<br><img src="https://gitee.com/techstream/mypicture/raw/master/img/20250404151643655.png" alt="Pasted image 20250404133556"></p><h1 id="前端配置"><a href="#前端配置" class="headerlink" title="前端配置"></a>前端配置</h1><p><img src="https://gitee.com/techstream/mypicture/raw/master/img/20250404151643656.png" alt="Pasted image 20250404133843"><br>在nginx所在目录启动cmd窗口（路径不要包含中文），输入命令<code>start nginx.exe</code><br><img src="https://gitee.com/techstream/mypicture/raw/master/img/20250404151643658.png" alt="Pasted image 20250404134110"><br>浏览器访问<code>http://127.0.0.1:8080</code><br><img src="https://gitee.com/techstream/mypicture/raw/master/img/20250404151643659.png" alt="Pasted image 20250404134314"><br>看到此页面则配置成功</p><p>右键点击“检查”，点击切换设备仿真（手机模式）</p><p><img src="https://gitee.com/techstream/mypicture/raw/master/img/20250404151643660.png" alt="Pasted image 20250404134349"></p><p>至此，黑马点评环境配置成功！</p>]]></content>
    
    
    
    <tags>
      
      <tag>黑马点评,环境</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
